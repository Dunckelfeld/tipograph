!function(){var e={quotesFormat:"double-open-up double-close-up single-open-up single-close-up"},n=function(e,n){for(var p in n)n.hasOwnProperty(p)&&(e[p]=n[p]);return e},p=function(e){var n={"double-open-up":"“","single-open-up":"‘","double-close-up":"”","single-close-up":"’","double-open-down":"„","single-open-down":"‚","double-left":"«","single-left":"‹","double-right":"»","single-right":"›","double-left-space":"« ","single-left-space":"‹ ","double-space-right":" »","single-space-right":" ›","double-top-corner":"「","single-top-corner":"『","double-bottom-corner":"」","single-bottom-corner":"』"},p=e.split(" ");p[0]=n[p[0]]||n["double-open-up"],p[1]=n[p[1]]||n["double-close-up"],p[2]=n[p[2]]||n["single-open-up"],p[3]=n[p[3]]||n["single-close-up"];var o=p[0]+"$1"+p[1],r=p[2]+"$1"+p[3];return[o,r]},o=function(){this.escapes=[],this.counter=-1};o.prototype.escape=function(e){var n=/<(pre|code)[^>]*>[\S\s]*(?=<\/\1>)<\/\1>/gi,p=/(<(\S+)[^>]*>)([\S\s]*(?=<\/\2>))(<\/\2>)/g,o=/<[^>\d\s][^>]*>/g,r=this;this.escapes=[],this.counter=-1;for(var t=function(e){return r.counter++,r.escapes.push({pair:!1,content:e}),"#@"+r.counter+"&"};n.test(e);)e=e.replace(n,t);for(var s=function(e,n,p,o,t){return r.counter++,r.escapes.push({pair:!0,opening:n,closing:t}),"#^@"+r.counter+"&"+o+"#$@"+r.counter+"&"};p.test(e);)e=e.replace(p,s);for(;o.test(e);)e=e.replace(o,t);return e},o.prototype.unescape=function(e){for(var n,p,o=0;o<this.escapes.length;o++)p=this.escapes[o],p.pair?(n=new RegExp("#\\^@"+o+"&([\\S\\s]*)#\\$@"+o+"&","g"),e=e.replace(n,p.opening+"$1"+p.closing)):(n=new RegExp("#@"+o+"&","g"),e=e.replace(n,p.content));return e};var r=function(e){this.config={},n(this.config,e)};if(r.prototype.configure=function(e){n(this.config,e)},r.prototype.all=function(e){var n=new o;return e=n.escape(e),e=this.spaces(e,!1),e=this.quotes(e,!1),e=this.mathSigns(e,!1),e=this.hyphens(e,!1),e=this.symbols(e,!1),n.unescape(e)},r.prototype.quotes=function(e,n){n="undefined"==typeof n?!0:n;var r,t=/'([^']*)'/g,s=/"([^"]*)"/g,c=/(\d)"/g,u=/(\d)'/g,a=/(\w)'(\w)/g,i=/\,\,/g,l=/(\s|^)\,([^'\s]*')/g;n&&(r=new o,e=r.escape(e));var g=p(this.config.quotesFormat);return e=e.replace(i,'"').replace(l,"$1'$2").replace(a,"$1’$2").replace(c,"$1″").replace(u,"$1′").replace(s,g[0]).replace(t,g[1]).replace(/'/g,"’"),n?r.unescape(e):e},r.prototype.spaces=function(e,n){n="undefined"==typeof n?!0:n;var p,r=/\u0020{2,}/g,t=/(\u00B6|\u00A7|\u00A9|\u2122|\u00AE)\u0020/g;return n&&(p=new o,e=p.escape(e)),e=e.replace(r," ").replace(t,"$1 "),n?p.unescape(e):e},r.prototype.hyphens=function(e,n){n="undefined"==typeof n?!0:n;var p,r=/\-\-/g,t=/\-\-\-/g,s=/\s\-\s/g,c=/(\d)\-(\d)/g,u=/([A-Z])\-([A-Z])/g;return n&&(p=new o,e=p.escape(e)),e=e.replace(t,"—").replace(r,"–").replace(c,"$1–$2").replace(s," – ").replace(u,"$1–$2"),n?p.unescape(e):e},r.prototype.mathSigns=function(e,n){n="undefined"==typeof n?!0:n;var p,r=/(\d\s)\-(\s\d)/g,t=/\-(\d)/g,s=/(\d\s)x(\s\d)/g,c=/(\d\s)\/(\s\d)/g,u=/\+\-/g,a=/\!\=|<>/g;return n&&(p=new o,e=p.escape(e)),e=e.replace(r,"$1−$2").replace(t,"−$1").replace(s,"$1×$2").replace(c,"$1÷$2").replace(u,"±").replace(a,"≠"),n?p.unescape(e):e},r.prototype.symbols=function(e,n){n="undefined"==typeof n?!0:n;var p,r=/(\s|^)\((C|c)\)\s?/g,t=/\((TM|tm)\)\s?/g,s=/\((R|r)\)\s?/g,c=/([^\.]|^)\.\.\.([^\.]|$)/g;return n&&(p=new o,e=p.escape(e)),e=e.replace(r,"$1© ").replace(t,"™ ").replace(s,"® ").replace(c,"$1…$2"),n?p.unescape(e):e},"undefined"!=typeof window){var t=window.Tipograph||{};t.Replace=new r(e),window.Tipograph=t}else module.exports=new r(e)}();